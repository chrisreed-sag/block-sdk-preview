<HTML><!-- saved from url=(0014)about:internet -->


<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>BucketWindow</TITLE>
<META NAME="keywords" CONTENT="BucketWindow&nbsp;event">
<LINK REL="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">
<SCRIPT type="text/javascript">function windowTitle()
          {
          parent.document.title="BucketWindow";
          }
          </SCRIPT>
<NOSCRIPT></NOSCRIPT>
</HEAD>
<BODY BGCOLOR="white" onload="windowTitle();">
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2"><A target="_top" HREF="../../../../index.html?apama/analyticskit/blocks/core/BucketWindow.html"><B>FRAMES</B></A>  &nbsp;

            &nbsp;<A target="_top" HREF="BucketWindow.html"><B>NO FRAMES</B></A>  &nbsp;
            &nbsp;<SCRIPT type="text/javascript"></SCRIPT>
<NOSCRIPT>
<A HREF="../../../../alltypes-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD COLSPAN="2" BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
<TR ALIGN="center" VALIGN="top">
<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;
              </TD><TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"><A HREF="../../../..//apama/analyticskit/blocks/core/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A></TD><TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;
              </TD><TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT>&nbsp;
                </A></TD><TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1" WIDTH="100%" ALIGN="RIGHT"><FONT CLASS="NavBarFont1"><B>Apama Analytics Builder 10.5.0</B></FONT></TD>
</TR>
</TABLE>
</TD><TD ALIGN="right" VALIGN="top" ROWSPAN="3"><EM></EM></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">SUMMARY:&nbsp;IMPORT&nbsp;|&nbsp;CONSTANT&nbsp;|&nbsp;<A HREF="#member_summary">MEMBER</A>&nbsp;|&nbsp;<A HREF="#action_summary">ACTION</A></FONT></TD><TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">DETAIL:&nbsp;IMPORT&nbsp;|&nbsp;CONSTANT&nbsp;|&nbsp;<A HREF="#member_detail">MEMBER</A>&nbsp;|&nbsp;<A HREF="#action_detail">ACTION</A></FONT></TD>
</TR>
</TABLE>
<HR>
<H2>
<FONT SIZE="-1">apama.analyticskit.blocks.core</FONT>
<BR>Event BucketWindow</H2>
<HR>
<HR>
<A NAME="member_summary"></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2"><B>Member summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;sequence&lt;any&gt;</CODE></FONT></TD><TD><CODE><B><A HREF="BucketWindow.html#windowElements">windowElements</A></B></CODE>
<br>
<br>the window elements.  Size=0 means state is uninitialized.  For unbounded aggregations, size is 1 (once initialized)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE><B><A HREF="BucketWindow.html#initialTime_absolute">initialTime_absolute</A></B></CODE>
<br>
<br>the timestamp of the first entry ever.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE><B><A HREF="BucketWindow.html#firstBucketOffset">firstBucketOffset</A></B></CODE>
<br>
<br>count of how many buckets we are now from the initalTime_absolute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE><B><A HREF="BucketWindow.html#prevTime">prevTime</A></B></CODE>
<br>
<br>timestamp of the last time we evaluated.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;optional&lt;float&gt;</CODE></FONT></TD><TD><CODE><B><A HREF="BucketWindow.html#prevValue">prevValue</A></B></CODE>
<br>
<br>Previous value received.</TD>
</TR>
</TABLE>&nbsp;<A NAME="action_summary"></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2"><B>Action summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;any</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#add()">add</A></B>(float&nbsp;time,&nbsp;float&nbsp;value,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg,&nbsp;any&nbsp;state)</CODE>
<br>
<br>Updates the buckets using prevValue, prevTime and Current time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#bucketStartTime()">bucketStartTime</A></B>(integer&nbsp;bucketIndex,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</CODE>
<br>
<br>Get the start time of the n'th bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#currentBucketEndTime()">currentBucketEndTime</A></B>(<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</CODE>
<br>
<br>Returns the end time of the current bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#currentBucketStartTime()">currentBucketStartTime</A></B>(<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</CODE>
<br>
<br>Returns the start time of the current bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#getRelativeInputTime()">getRelativeInputTime</A></B>(float&nbsp;currTime,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</CODE>
<br>
<br>Returns the relative time of the input with respect to first input. This action must be called after adding first element to the bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;integer</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#last()">last</A></B>()</CODE>
<br>
<br>Return last index of the window.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#proportionOfFirstBucket()">proportionOfFirstBucket</A></B>(<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg,&nbsp;float&nbsp;time)</CODE>
<br>
<br>Returns the proportion of the first bucket which is not expired yet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;void</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#reset()">reset</A></B>()</CODE>
<br>
<br>Resets the bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;float</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#specificBucketDuration()">specificBucketDuration</A></B>(integer&nbsp;i,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</CODE>
<br>
<br>Returns the duration of the specified bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1"><CODE>&nbsp;void</CODE></FONT></TD><TD><CODE></CODE><CODE><B><A HREF="BucketWindow.html#updateCurrentBucket()">updateCurrentBucket</A></B>(float&nbsp;time,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg,&nbsp;any&nbsp;state)</CODE>
<br>
<br>Updates the current bucket to reflect prevValue having occurred between prevTime and the first of the end of the bucket or the time parameter.</TD>
</TR>
</TABLE>&nbsp;<A NAME="member_detail"></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2"><B>Member detail</B></FONT></TH>
</TR>
</TABLE>
<A NAME="firstBucketOffset"></A>
<H3>firstBucketOffset</H3>
<PRE>float&nbsp;<B>firstBucketOffset</B>
</PRE>count of how many buckets we are now from the initalTime_absolute.<HR>
<A NAME="initialTime_absolute"></A>
<H3>initialTime_absolute</H3>
<PRE>float&nbsp;<B>initialTime_absolute</B>
</PRE>the timestamp of the first entry ever.<HR>
<A NAME="prevTime"></A>
<H3>prevTime</H3>
<PRE>float&nbsp;<B>prevTime</B>
</PRE>timestamp of the last time we evaluated.<HR>
<A NAME="prevValue"></A>
<H3>prevValue</H3>
<PRE>optional&lt;float&gt;&nbsp;<B>prevValue</B>
</PRE>Previous value received.<HR>
<A NAME="windowElements"></A>
<H3>windowElements</H3>
<PRE>sequence&lt;any&gt;&nbsp;<B>windowElements</B>
</PRE>the window elements.  Size=0 means state is uninitialized.  For unbounded aggregations, size is 1 (once initialized)<HR>
<A NAME="action_detail"></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2"><B>Action detail</B></FONT></TH>
</TR>
</TABLE>
<A NAME="add()"></A>
<H3>add</H3>
<PRE>any&nbsp;<B>add</B>(float&nbsp;time,&nbsp;float&nbsp;value,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg,&nbsp;any&nbsp;state)</PRE>Updates the buckets using prevValue, prevTime and Current time.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>time</tt>
</DD>
<DD>
<tt>value</tt>
</DD>
<DD>
<tt>cfg</tt>
</DD>
<DD>
<tt>state</tt>
</DD>
</DL>
<HR>
<A NAME="bucketStartTime()"></A>
<H3>bucketStartTime</H3>
<PRE>float&nbsp;<B>bucketStartTime</B>(integer&nbsp;bucketIndex,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</PRE>Get the start time of the n'th bucket.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>bucketIndex</tt>&nbsp;-&nbsp;Which bucket to find the time of.</DD>
<DD>
<tt>cfg</tt>&nbsp;-&nbsp;The BucketWindowConfig.</DD>
</DL>
<DL>
<DT>
<B>Returns:</B>
</DT>
<DD>the start time (absolute) of the bucketIndex'th bucket start (or bucketIndex+1's end)</DD>
</DL>
<HR>
<A NAME="currentBucketEndTime()"></A>
<H3>currentBucketEndTime</H3>
<PRE>float&nbsp;<B>currentBucketEndTime</B>(<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</PRE>Returns the end time of the current bucket.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>cfg</tt>
</DD>
</DL>
<HR>
<A NAME="currentBucketStartTime()"></A>
<H3>currentBucketStartTime</H3>
<PRE>float&nbsp;<B>currentBucketStartTime</B>(<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</PRE>Returns the start time of the current bucket.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>cfg</tt>
</DD>
</DL>
<HR>
<A NAME="getRelativeInputTime()"></A>
<H3>getRelativeInputTime</H3>
<PRE>float&nbsp;<B>getRelativeInputTime</B>(float&nbsp;currTime,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</PRE>Returns the relative time of the input with respect to first input. This action must be called after adding first element to the bucket.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>currTime</tt>
</DD>
<DD>
<tt>cfg</tt>
</DD>
</DL>
<HR>
<A NAME="last()"></A>
<H3>last</H3>
<PRE>integer&nbsp;<B>last</B>()</PRE>Return last index of the window.<HR>
<A NAME="proportionOfFirstBucket()"></A>
<H3>proportionOfFirstBucket</H3>
<PRE>float&nbsp;<B>proportionOfFirstBucket</B>(<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg,&nbsp;float&nbsp;time)</PRE>Returns the proportion of the first bucket which is not expired yet.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>cfg</tt>
</DD>
<DD>
<tt>time</tt>
</DD>
</DL>
<HR>
<A NAME="reset()"></A>
<H3>reset</H3>
<PRE>void&nbsp;<B>reset</B>()</PRE>Resets the bucket.<HR>
<A NAME="specificBucketDuration()"></A>
<H3>specificBucketDuration</H3>
<PRE>float&nbsp;<B>specificBucketDuration</B>(integer&nbsp;i,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg)</PRE>Returns the duration of the specified bucket.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>i</tt>
</DD>
<DD>
<tt>cfg</tt>
</DD>
</DL>
<HR>
<A NAME="updateCurrentBucket()"></A>
<H3>updateCurrentBucket</H3>
<PRE>void&nbsp;<B>updateCurrentBucket</B>(float&nbsp;time,&nbsp;<A HREF="../../../../apama/analyticskit/blocks/core/BucketWindowConfig.html" title="type in apama.analyticskit.blocks.core">apama.analyticskit.blocks.core.BucketWindowConfig</A>&nbsp;cfg,&nbsp;any&nbsp;state)</PRE>Updates the current bucket to reflect prevValue having occurred between prevTime and the first of the end of the bucket or the time parameter.<DL>
<DT>
<B>Parameters:</B>
</DT>
<DD>
<tt>time</tt>
</DD>
<DD>
<tt>cfg</tt>
</DD>
<DD>
<tt>state</tt>
</DD>
</DL>
<HR>
<HR>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2"><A target="_top" HREF="../../../../index.html?apama/analyticskit/blocks/core/BucketWindow.html"><B>FRAMES</B></A>  &nbsp;

            &nbsp;<A target="_top" HREF="BucketWindow.html"><B>NO FRAMES</B></A>  &nbsp;
            &nbsp;<SCRIPT type="text/javascript"></SCRIPT>
<NOSCRIPT>
<A HREF="../../../../alltypes-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD COLSPAN="2" BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
<TR ALIGN="center" VALIGN="top">
<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;
              </TD><TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"><A HREF="../../../..//apama/analyticskit/blocks/core/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A></TD><TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;
              </TD><TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT>&nbsp;
                </A></TD><TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1" WIDTH="100%" ALIGN="RIGHT"><FONT CLASS="NavBarFont1"><B>Apama Analytics Builder 10.5.0</B></FONT></TD>
</TR>
</TABLE>
</TD><TD ALIGN="right" VALIGN="top" ROWSPAN="3"><EM></EM></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">SUMMARY:&nbsp;IMPORT&nbsp;|&nbsp;CONSTANT&nbsp;|&nbsp;<A HREF="#member_summary">MEMBER</A>&nbsp;|&nbsp;<A HREF="#action_summary">ACTION</A></FONT></TD><TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">DETAIL:&nbsp;IMPORT&nbsp;|&nbsp;CONSTANT&nbsp;|&nbsp;<A HREF="#member_detail">MEMBER</A>&nbsp;|&nbsp;<A HREF="#action_detail">ACTION</A></FONT></TD>
</TR>
</TABLE>
<HR>
</BODY>
</HTML>
